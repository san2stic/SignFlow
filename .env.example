# Backend
ENV=development
DATABASE_URL=sqlite:///./data/signflow.db
REDIS_URL=redis://redis:6379/0
SEARCH_BACKEND=sql
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=signflow-signs
ELASTICSEARCH_TIMEOUT_MS=2000
ELASTICSEARCH_REINDEX_ON_STARTUP=false
ELASTICSEARCH_FAIL_OPEN=true
ELASTICSEARCH_VERIFY_CERTS=false
MODEL_DIR=/app/data/models
VIDEO_DIR=/app/data/videos
EXPORT_DIR=/app/data/exports
MAX_UPLOAD_MB=50
MAX_VIDEO_SECONDS=10
MAX_REQUEST_MB=64
MAX_DICTIONARY_IMPORT_MB=30
MAX_DICTIONARY_IMPORT_FILES=1000
MAX_DICTIONARY_IMPORT_FILE_MB=15
MAX_DICTIONARY_IMPORT_UNCOMPRESSED_MB=200
MAX_DICTIONARY_IMPORT_COMPRESSION_RATIO=150
TRUSTED_HOSTS=localhost,127.0.0.1,testserver
RATE_LIMIT_PER_MINUTE=120
WRITE_RATE_LIMIT_PER_MINUTE=40
WS_MESSAGES_PER_MINUTE=900
WS_MAX_CONNECTIONS_PER_IP=3
ENABLE_DOCS=true
TRAINING_USE_CELERY=false
TRANSLATE_SEQ_LEN=64
TRANSLATE_CONFIDENCE_THRESHOLD=0.7
TRANSLATE_INFERENCE_NUM_VIEWS=1
TRANSLATE_INFERENCE_TEMPERATURE=1.0
TRANSLATE_MAX_VIEW_DISAGREEMENT=0.35
TRANSLATE_TTA_ENABLE_MIRROR=true
TRANSLATE_TTA_ENABLE_TEMPORAL_JITTER=true
TRANSLATE_TTA_ENABLE_SPATIAL_NOISE=true
TRANSLATE_TTA_TEMPORAL_JITTER_RATIO=0.05
TRANSLATE_TTA_SPATIAL_NOISE_STD=0.005
USE_TORCHSERVE=false
TORCHSERVE_URL=http://torchserve:8080
TORCHSERVE_TIMEOUT_MS=2000
CANARY_PERCENTAGE=0
CANARY_MODEL_ID=
SHADOW_MODE_ENABLED=false
SHADOW_MODEL_ID=
SHADOW_MIN_CONFIDENCE=0.6
INFERENCE_METRICS_ENABLED=true
DRIFT_DETECTION_ENABLED=true
DRIFT_WINDOW_SIZE=1000
DRIFT_CHECK_EVERY=100
DRIFT_MIN_SAMPLES=200
DRIFT_P_VALUE_THRESHOLD=0.05
DRIFT_MEAN_SHIFT_THRESHOLD=0.12
ACTIVE_LEARNING_ENABLED=false
ACTIVE_LEARNING_STRATEGY=combined
ACTIVE_LEARNING_MIN_UNCERTAINTY=0.6
ACTIVE_LEARNING_MAX_QUEUE=2000
ACTIVE_LEARNING_TOP_N=250
ACTIVE_LEARNING_COOLDOWN_SECONDS=1.5
MLFLOW_REGISTRY_ENABLED=false
MLFLOW_REGISTRY_MODEL_NAME=signflow-model
MLFLOW_REGISTRY_AUTO_PROMOTE_STAGING=true

# Frontend (optional overrides)
# By default frontend uses same-origin (/api/*), and Vite dev proxy handles backend routing.
# Uncomment only if you need explicit absolute URLs.
# VITE_API_URL=https://your-domain.tld
# VITE_WS_URL=wss://your-domain.tld
VITE_DEV_PROXY_TARGET=http://localhost:8000

# Production reverse proxy
SIGNFLOW_DOMAIN=localhost

# Production database/cache credentials (docker-compose.prod.yml)
POSTGRES_DB=signflow
POSTGRES_USER=signflow
POSTGRES_PASSWORD=
REDIS_PASSWORD=

# WireGuard (docker-compose.prod.yml)
# Set this to your public IPv4 or a DNS name to avoid auto-selecting an unreachable IPv6 endpoint.
WG_SERVERURL=
